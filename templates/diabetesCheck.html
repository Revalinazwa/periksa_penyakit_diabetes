<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="../static/img/fav.svg" type="image/svg+xml" />
    <title>Diabetes Check</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="bg-gray-100">
    {% include 'component/navbar.html' %}

    <!-- Check Diabetes Section -->
    <section
      id="check"
      class="pt-24 md:pt-32 pb-16 bg-gradient-to-br from-blue-500 to-blue-700 w-full overflow-hidden"
    >
      <div class="container mx-auto px-4">
        <h2
          class="text-3xl font-bold text-center mb-12 text-white"
          data-aos="fade-up"
        >
          Pemeriksaan Diabetes
        </h2>

        <div class="flex flex-col md:flex-row items-center gap-8">
          <div class="md:w-1/3">
            <div
              class="bg-gray-100 text-blue-600 p-6 rounded-lg shadow-lg shadow-white"
            >
              <h3 class="text-xl font-bold mb-4">Cara Kerja</h3>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <i class="fas fa-check-circle mt-1 mr-2"></i>
                  <span>Isi formulir dengan data medis Anda</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle mt-1 mr-2"></i>
                  <span>Sistem akan menganalisis risiko diabetes Anda</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle mt-1 mr-2"></i>
                  <span>Dapatkan hasil prediksi secara instan</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle mt-1 mr-2"></i>
                  <span>Konsultasikan hasilnya dengan dokter Anda</span>
                </li>
              </ul>
            </div>
          </div>

          <div class="md:w-2/3">
            <form
              id="diabetes-form"
              class="bg-gray-100 p-8 rounded-lg shadow-lg shadow-white"
              method="POST"
              action="/diabetesCheck"
            >
              <h3 class="text-2xl font-bold mb-6 text-center text-gray-800">
                Form Pemeriksaan Diabetes
              </h3>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="mb-4">
                  <label class="text-gray-700 font-medium mb-2 block"
                    >Nama Pasien</label
                  >
                  <input
                    type="text"
                    name="nama"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label class="text-gray-700 font-medium mb-2 block"
                    >Jenis Kelamin</label
                  >
                  <select
                    name="jenis_kelamin"
                    id="jenis_kelamin"
                    required
                    onchange="handleGenderChange()"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  >
                    <option value="">-- Pilih Jenis Kelamin --</option>
                    <option value="Laki-laki">Laki-laki</option>
                    <option value="Perempuan">Perempuan</option>
                  </select>
                </div>
              </div>

              <input type="hidden" name="tanggal" id="tanggal" />

              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Jumlah Kehamilan
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan jumlah kehamilan yang pernah Anda alami.<br />
                        Jika belum pernah hamil, isi dengan 0.<br />
                        Contoh: Sudah hamil 3 kali → isi dengan 3.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="Pregnancies"
                    id="pregnancies"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Kadar Gula Darah (mg/dL)
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan kadar gula darah Anda (mg/dL).<br />
                        Nilai normal berkisar antara 70–140.<br />
                        Contoh: 110.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="Glucose"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Tekanan Darah
                    <div class="ml-2 relative z-50">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan tekanan darah bagian bawah (diastolik) Anda
                        dalam mmHg. Ini adalah angka kedua dari hasil tensi,
                        biasanya sekitar 80. <br />
                        Contoh: jika tensi 120/80, maka isi dengan 80.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="BloodPressure"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Ketebalan Kulit
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan ketebalan lipatan kulit bagian belakang lengan
                        atas (triceps) dalam milimeter (mm). Biasanya diukur
                        dengan alat oleh tenaga medis. Contoh: 25 mm,maka isi
                        dengan 25.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="SkinThickness"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Kadar Insulin (mU/L)
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan kadar insulin dalam darah Anda (mu U/ml).
                        <br />Jika tidak memiliki data ini, Anda bisa isi dengan
                        0. <br />Nilai ini membantu dalam mendeteksi resistensi
                        insulin.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="Insulin"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Body Mass Index (BMI)
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan Indeks Massa Tubuh (BMI) Anda. <br />
                        Dihitung dari berat badan dibagi tinggi badan kuadrat
                        (kg/m²). <br />
                        Contoh sehat: 22.5. <br />
                        Jika belum tahu, gunakan kalkulator BMI online.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="BMI"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Skor Riwayat Keluarga Diabetes
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan skor riwayat keluarga Anda yang berkaitan
                        dengan diabetes.<br />
                        Nilai biasanya antara 0.0 hingga 2.5.<br />
                        Semakin tinggi nilainya, semakin besar risiko diabetes
                        karena faktor keturunan.<br />
                        Contoh:<br />
                        - Tidak ada keluarga dengan diabetes → 0.2 – 0.5<br />
                        - Ada keluarga dekat dengan diabetes → 0.6 – 1.5<br />
                        - Banyak anggota keluarga dengan diabetes → > 1.5
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="DiabetesPedigreeFunction"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>

                <div class="mb-4">
                  <label
                    class="flex items-center text-gray-700 font-medium mb-2 relative group"
                    >Umur
                    <div class="ml-2 relative">
                      <span class="text-blue-500 cursor-help"
                        ><i class="fa-solid fa-question"></i
                      ></span>
                      <!-- Tooltip -->
                      <div
                        class="absolute hidden items-center justify-center bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-blue-600 text-white text-sm p-4 rounded-md shadow-lg z-50 pointer-events-none"
                      >
                        Masukkan usia Anda sekarang dalam tahun. <br />
                        Contoh: jika Anda berumur 35 tahun, maka isi 35. <br />
                        Usia dapat mempengaruhi risiko terkena diabetes.
                      </div>
                    </div>
                  </label>
                  <input
                    type="number"
                    name="Age"
                    step="any"
                    required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
                  />
                </div>
              </div>

              <button
                type="submit"
                class="w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition shadow-md flex items-center justify-center cursor-pointer"
              >
                <span>Prediksi Diabetes</span>
                <i class="fas fa-stethoscope ml-2"></i>
              </button>

              <!-- <div
                id="result-container"
                class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-300 text-center text-lg font-semibold text-blue-800 hidden"
              >
                <div id="loading" class="justify-center items-center hidden">
                  <div
                    class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-700"
                  ></div>
                  <span class="ml-2">Menganalisis data...</span>
                </div>
                <div id="result"></div>
              </div> -->
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- footer Include -->
    {% include 'component/footer.html' %}

    <script src="{{ url_for('static', filename='js/diabetesCheck.js') }}"></script>
  </body>
</html>
